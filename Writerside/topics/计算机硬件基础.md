# Capture 1:计算机硬件基础
*根据考情分析，本章节知识在试题分布中占5-6分*

## 数制转换/表示
二进制、八进制、十进制、十六进制
位权：用 `R^k` 表示

`R`为**基数**（几进制基数就是几）

`k` 为当前位距离小数点的个数，_类似科学计数法_

## 计算机相关单位
- 地址

给存储单元定义的编码，在计算机中为二进制数，

但是会很长（例如16位，32位），
所以我们常在实际中用十六进制数来表示这个地址
- 位（bit）

二进制位

- 字节（Byte）
- 字、字长

#### Q：内存按**字节编址**从 `A5000 H` 到`DCFFF H` 的区域 其**存储容量**为（？）
A：由于我们需要包含最后一个地址（DCFFFH）所代表的那一个存储单元，所以实际的存储单元数量需要再加1

所以推出 `DCFFFH +1 - A5000H == DD000H - A5000H == 38000H`

`38000H => 0011 1000 0000 0000 0000`

因为是字节编址，二进制的地址又很长，我们可以考虑将单位换成千字节（KB）

又因为 `1 KB == 2^10 B` => 将二进制数的后10个 `0` 舍去用*KB*替换，

=> `0011 1000 00 KB` == `224 KB`

#### 机器数：二进制数

#### 码制：
- 原码
- 反码
- 补码
- 移码

#### 定点数
指小数点位固定的数
#### 浮点数
指小数点位不固定的数

## 计算机的基本组成
运算器、控制器、存储器、输入设备、输出设备
#### 运算器
- ALU 算数逻辑单元
- AC 累加寄存器
- DR 数据缓冲寄存器
- PSW 状态条件寄存器
#### 控制器
- PC 程序计数器
- IR 指令寄存器
- ID 指令译码器
- 时序部件

## 并行处理
#### 并行性
可以同时进行运算或操作的特性
- 并发性：指2个以上的事件在同一时间间隔发生
- 同时性：指2个以上的事件在同一时刻发生
#### 提高并行性的方法
- 时间重叠：时间并行技术，分时复用
- 资源重复：空间并行技术，资源冗余
- 资源共享：软件方法，如多道程序、分时系统

## 基本概念
#### CPU的性能指标
主频、字长、CPU缓存、核心数量

#### 总线分类
数据总线、控制总线、地址总线

#### 总线的性能指标
带宽、位宽、工作频率

#### 设备间的连接方式
串行连接、并行连接

## 寻址方式
- 立即寻址
- 直接寻址
- 间接寻址
- 寄存器寻址
- 寄存器间接寻址

## 计算机体系结构分类-Flynn
01:23:00

| 体系结构类型         | 结构                  | 关键特性                | 代表               |
|----------------|---------------------|---------------------|------------------|
| SISD 单指令流&单数据流 | 一个 控制部分<br/>多个 处理部件 |                     | 单处理器系统           |    
| SIMD 单指令流&多数据流 | 一个 控制部分<br/>多个 处理部件 | 以同步的形式执行同一条指令       | 阵列处理机、超级向量处理机    |
| MISD 多指令流&单数据流 | 一个 控制部分<br/>多个 处理部件 | 被证明不可能，至少是不实际       | 目前没有文献称流水线计算机为此类 |
| MIMD 多指令流&多数据流 | 多个 控制部分<br/>多个 处理部件 | 能够实现作业、任务、指令等各级全面并行 | 多处理机系统、多计算机      |

*I:指令流 D:数据流 S:单 M:多*

## CISC/RISC
|      | CISC（复杂）                  | RISC（精简）                                                             |
|------|---------------------------|----------------------------------------------------------------------|
| 指令   | 数量多<br/>使用频率差别大<br/>可变长格式 | 数量少<br/>使用频率接近<br/>定长格式<br/>大部分为单指令周期<br/>操作寄存器<br/>只有Load/Store操作内存 |
| 寻址方式 | 支持多种                      | 支持方式少                                                                |
| 实现方式 | 微程序控制技术                   | 增加了通用寄存器<br/>硬布线逻辑控制为主<br/>采用流水线                                     |
| 其他   |                           | 优化编译、有效支持高级语言                                                        |

## 流水线
-> `取指` -> `分析` -> `执行` ->

## 多级存储器结构
寄存器 高速缓存 主存 外存

## 存储器分类

### 按寻址方式
- 随机存储器（RAM，如内存）
- 顺序存储器（SAM，如磁带）
- 直接存储器（DAM，如磁盘）
### 按内容访问
- 相联存储器（如快表TLB等）
### ROM（只读存储器）
### RAM（随机存储器）
- SRAM：不掉电就可长时间保存，集成度底，功耗大，一般用于cache
- DRAM：电容存储，需要定期刷新，否则数据会丢失
### 虚拟存储器
*e.g. Swap交换分区，想一下交换分区的特性*

## 输入输出

### 微机最常用的内存与接口的编址地址

内存与接口地址独立编址：端口映像IO，地址码短，指令类型少

接口地址统一编址：内存映像IO，共享内存，地址码长

### 直接程序控制

无条件传送方式：总是处于准备好状态的外设，如开关、发光器件、继电器、步进电机 等
程序查询方式：外设并不总是准备好。CPU效率底（轮询外设状态等待I/O外设读数据到CPU，然后CPU将数据写入主存），数据传送实时性差、速度慢。

### 中断方式

保存现场，I/O 外设处理数据使CPU可并行工作（提高了效率），数据传送到内存需要CPU介入

### 直接存储器存取方式（DMA）

在从I/O外设处理数据和传送数据块到内存的过程中都不需要CPU干涉，不需要保护现场，硬件（DMA控制器复杂）。仅初始化和结果处理需要CPU干预

### 输入输出处理机（IOP）

通道方式的进一步发展，多应用在大、中型计算机中

## 校验码
- 奇偶校验（1位校验位，可检错）

偶校验位 奇数为1 偶数为0<br/>奇校验位 偶数为1 奇数为0

- CRC（可检错，可检多位错）
- 海明码（可检错，且可纠错，纠1位或多位错）