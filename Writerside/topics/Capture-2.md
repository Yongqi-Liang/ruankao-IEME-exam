# Capture 2:操作系统基础知识

*根据考情分析，本章节知识在试题分布中占1-4分不等，其中2017年至今分布在3-4分左右*

## 操作系统
作用：

- 通过资源管理，提高系统效率
- 改善人机界面，提供友好工作环境

OS特性：
并发性 共享性 异步性

### OS功能
- 存储器管理 / 进程管理
- 存储管理
- 设备管理
- 文件管理
- 作业管理
- 网络和通信管理

## 进程

### 进程
*结构性、共享性、动态性、独立性、制约性、并发性*
- 资源分配的基本单位
- 运行调度的基本单位（无线程时）
- 由**数据块**、**进程控制块**（PCB=标识信息+现场信息+控制信息）和数据块三部分组成
- 进程是程序的一次执行过程，没有程序就没有进程

### 进程与程序的关系

### 进程状态管理
- 三基态
- 五基态

### 进程控制
- 互斥：间接制约
- 同步：直接制约

### P、V、S
S：信号量

PV操作原语

### 同步模型
e.g. 单缓冲区生产者、消费者问题：

生产者 -> 市场 -> 消费者

生产者：生产一个产品 `P(s1);` 送产品到缓冲区 `V(s2);`
 
消费者：`P(s2);`从缓冲区取产品`V(s1);` 消费产品

## 存储管理
主要目标：方便用户使用 + 提高主存效率

方案：
/ 分区存储管理
/ / 固定分区
/ / 可变分区
/ / / 最佳适应算法
/ / / 最差适应算法
/ / / 首次适应算法
/ / / 循环首次适应算法
/ / 可重定位分区
/ 分页存储管理
/ 分段存储管理
/ 段页式存储管理
/ 虚拟存储管理

## 页式存储
原理：物理块/页框、逻辑页、地址结构、页表和地址转换

优缺点：离散分配，减少内存碎片、页表开销、信息跨页

## 段页式存储
- 段表寄存器(段表大小，段表地址) -> 端表
- 段表(段号，状态，页表大小，页表地址) -> 页表
- 页表(页号，状态，存储块) -> 主存
- 主存(操作系统)

## 虚拟存储器
- 具有部分装入和部分对换功能，能从逻辑上对内容容量进行大幅度扩充，使用方便的一种存储器系统
- 实际上式为扩大主存而采用的一种设计技巧
- 虚拟存储器的容量与主存大小无关
- 虚拟存储器的实现对用户来说是透明的

实现方式：
- 请求分页系统
- 请求分段系统
- 请求段页式系统

## 页面置换算法：
- 最佳置换算法
- 先进先出置换算法
- 最近最少未使用置换算法
- 最近未用置换算法

## 磁盘结构及调度算法
- 先来先服务（FCFS）
- 最短寻道时间优先（SSTF）
- 扫描算法（SCAN）
- 循环扫描（CSCAN）算法

读取磁盘数据的时间应该包括以下三个：
- 找磁道的时间
- 找块（扇区）的时间，即旋转延迟的时间
- 传输时间




